<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>考试成绩管理系统</title><script src="https://cdn.tailwindcss.com"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><style>.exam-card{transition:all .3s ease}.exam-card:hover{transform:translateY(-5px)}.score-input{transition:all .2s ease}.score-input:focus{transform:scale(1.05)}.fade-in{animation:fadeIn .5s}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}</style></head><body class="bg-gray-100 min-h-screen"><div class="container mx-auto px-4 py-8 max-w-7xl"><header class="text-center mb-10"><h1 class="text-4xl font-bold text-indigo-700 mb-2">考试成绩管理系统</h1><p class="text-gray-600">记录你的每一次进步，见证你的成长</p></header><div class="mb-6 text-center"><button onclick="showAddExamModal()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg shadow-lg transform transition hover:scale-105"><i class="fas fa-plus mr-2"></i>添加新考试</button></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-1"><div class="bg-white rounded-xl shadow-md p-6"><h2 class="text-xl font-semibold text-gray-800 mb-4"><i class="fas fa-list-ul mr-2 text-indigo-600"></i>考试列表</h2><div id="examList" class="space-y-4 max-h-[600px] overflow-y-auto"></div></div></div><div class="lg:col-span-2"><div id="examDetails" class="bg-white rounded-xl shadow-md p-6 min-h-[500px]"><div class="flex flex-col items-center justify-center h-full text-gray-400"><i class="fas fa-clipboard-list text-6xl mb-4"></i><p class="text-xl">请选择一个考试查看详情</p></div></div></div></div></div><div id="examModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50"><div class="bg-white rounded-xl shadow-2xl p-8 w-full max-w-md mx-4"><h3 id="modalTitle" class="text-2xl font-bold mb-6 text-gray-800">添加新考试</h3><form id="examForm" onsubmit="saveExam(event)"><div class="mb-4"><label class="block text-gray-700 mb-2">考试名称</label><input type="text" id="examName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required></div><div class="mb-4"><label class="block text-gray-700 mb-2">考试日期</label><input type="date" id="examDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required></div><div class="mb-4"><label class="block text-gray-700 mb-2">考试备注</label><textarea id="examNote" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" rows="3" placeholder="添加考试相关备注信息..."></textarea></div><div class="mb-4"><label class="block text-gray-700 mb-2">班级排名</label><input type="number" id="classRank" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" min="1" placeholder="输入班级排名"></div><div class="mb-4"><label class="block text-gray-700 mb-2">年级排名</label><input type="number" id="gradeRank" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" min="1" placeholder="输入年级排名"></div><div class="mb-6"><label class="block text-gray-700 mb-2">科目设置</label><div id="subjectInputs" class="space-y-2"><div class="flex items-center space-x-2"><input type="text" placeholder="科目名称" class="subject-name flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required><input type="number" value="100" min="1" step="0.1" placeholder="满分" class="max-score w-20 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required><button type="button" onclick="removeSubjectInput(this)" class="text-red-500 hover:text-red-700"><i class="fas fa-trash"></i></button></div></div><button type="button" onclick="addSubjectInput()" class="mt-2 text-indigo-600 hover:text-indigo-800 text-sm"><i class="fas fa-plus mr-1"></i>添加科目</button></div><div class="flex justify-end space-x-3"><button type="button" onclick="closeModal()" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100">取消</button><button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">保存</button></div></form></div></div><div id="scoreModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50"><div class="bg-white rounded-xl shadow-2xl p-8 w-full max-w-md mx-4"><h3 class="text-2xl font-bold mb-6 text-gray-800">录入分数</h3><form id="scoreForm" onsubmit="saveScores(event)"><div id="scoreInputs" class="mb-6 space-y-4"></div><div class="flex justify-end space-x-3"><button type="button" onclick="closeScoreModal()" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100">取消</button><button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">保存</button></div></form></div></div><script>let exams=JSON.parse(localStorage.getItem('exams'))||[];let currentExamId=null;let editingExamId=null;document.addEventListener('DOMContentLoaded',function(){renderExamList()});function renderExamList(){const examList=document.getElementById('examList');examList.innerHTML='';if(exams.length===0){examList.innerHTML='<p class="text-gray-500 text-center py-8">暂无考试记录，请添加新考试</p>';return}exams.sort((a,b)=>new Date(b.date)-new Date(a.date));exams.forEach(exam=>{const examCard=document.createElement('div');examCard.className='exam-card bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-pointer hover:bg-indigo-50 hover:border-indigo-300';examCard.onclick=()=>showExamDetails(exam.id);const totalScore=exam.subjects.reduce((sum,subject)=>sum+subject.score,0);examCard.innerHTML=`<div class="flex justify-between items-start mb-2"><h3 class="font-semibold text-gray-800">${exam.name}</h3><div class="flex space-x-1"><button onclick="event.stopPropagation(); showScoreModal('${exam.id}')" class="text-blue-500 hover:text-blue-700"><i class="fas fa-edit"></i></button><button onclick="event.stopPropagation(); deleteExam('${exam.id}')" class="text-red-500 hover:text-red-700"><i class="fas fa-trash-alt"></i></button></div></div><p class="text-sm text-gray-600 mb-2">${formatDate(exam.date)}</p><div class="flex justify-between items-center"><span class="text-indigo-600 font-bold">总分: ${totalScore}</span><div class="flex space-x-2">${exam.classRank?`<span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">班: ${exam.classRank}</span>`:''}${exam.gradeRank?`<span class="bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full">年: ${exam.gradeRank}</span>`:''}</div></div>`;examList.appendChild(examCard)})}function showExamDetails(examId){currentExamId=examId;const exam=exams.find(e=>e.id===examId);if(!exam)return;const detailsDiv=document.getElementById('examDetails');const totalScore=exam.subjects.reduce((sum,subject)=>sum+subject.score,0);const averageScore=totalScore>0?(totalScore/exam.subjects.length).toFixed(1):0;detailsDiv.innerHTML=`<div class="fade-in"><div class="flex justify-between items-start mb-6"><div><h2 class="text-2xl font-bold text-gray-800">${exam.name}</h2><p class="text-gray-600">${formatDate(exam.date)}</p></div><button onclick="showScoreModal('${examId}')" class="bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg shadow transition hover:scale-105"><i class="fas fa-edit mr-2"></i>录入分数</button></div>${exam.note?`<div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6"><div class="flex"><div class="flex-shrink-0"><i class="fas fa-sticky-note text-yellow-400"></i></div><div class="ml-3"><p class="text-sm text-yellow-700">${exam.note}</p></div></div></div>`:''}<div class="grid grid-cols-3 gap-4 mb-8"><div class="bg-indigo-50 rounded-lg p-4 text-center"><p class="text-indigo-600 font-semibold">总分</p><p class="text-2xl font-bold text-indigo-800">${totalScore}</p></div><div class="bg-green-50 rounded-lg p-4 text-center"><p class="text-green-600 font-semibold">平均分</p><p class="text-2xl font-bold text-green-800">${averageScore}</p></div><div class="bg-purple-50 rounded-lg p-4 text-center"><p class="text-purple-600 font-semibold">科目数</p><p class="text-2xl font-bold text-purple-800">${exam.subjects.length}</p></div></div><div class="grid grid-cols-2 gap-4 mb-8">${exam.classRank?`<div class="bg-blue-50 rounded-lg p-4 text-center"><p class="text-blue-600 font-semibold">班级排名</p><p class="text-2xl font-bold text-blue-800">${exam.classRank}</p></div>`:''}${exam.gradeRank?`<div class="bg-purple-50 rounded-lg p-4 text-center"><p class="text-purple-600 font-semibold">年级排名</p><p class="text-2xl font-bold text-purple-800">${exam.gradeRank}</p></div>`:''}</div><div class="mb-6"><h3 class="text-xl font-semibold text-gray-800 mb-4">各科成绩</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4">${exam.subjects.map((subject,index)=>`<div class="flex items-center justify-between bg-gray-50 rounded-lg p-4"><div><p class="font-medium text-gray-800">${subject.name}</p><p class="text-sm text-gray-600">科目 ${index + 1}</p></div><div class="text-right"><p class="text-lg font-bold text-indigo-600">${subject.score > 0 ? subject.score : '--'}</p><p class="text-sm text-gray-600">满分 ${subject.maxScore || 100}</p></div></div>`).join('')}</div></div>${exam.subjects.some(s=>s.score>0)?`<div class="bg-gray-50 rounded-lg p-4"><h3 class="text-lg font-semibold text-gray-800 mb-3">成绩分布</h3><div class="space-y-2">${exam.subjects.map((subject,index)=>{if(subject.score<=0)return'';const percentage=(subject.score/(subject.maxScore||100))*100;const color=percentage>=90?'bg-green-500':percentage>=80?'bg-blue-500':percentage>=70?'bg-yellow-500':'bg-red-500';return`<div class="flex items-center"><div class="w-32 text-sm text-gray-600">${subject.name}</div><div class="flex-1 bg-gray-200 rounded-full h-4 overflow-hidden"><div class="${color} h-full rounded-full" style="width: ${percentage}%"></div></div><div class="w-12 text-right text-sm font-medium">${percentage}%</div></div>`}).join('')}</div></div>`:''}</div>`}function showAddExamModal(){editingExamId=null;document.getElementById('modalTitle').textContent='添加新考试';document.getElementById('examName').value='';document.getElementById('examDate').value=new Date().toISOString().split('T')[0];document.getElementById('examNote').value='';document.getElementById('classRank').value='';document.getElementById('gradeRank').value='';const subjectInputs=document.getElementById('subjectInputs');subjectInputs.innerHTML=`<div class="flex items-center space-x-2"><input type="text" placeholder="科目名称" class="subject-name flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required><input type="number" value="100" min="1" step="0.1" placeholder="满分" class="max-score w-20 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required><button type="button" onclick="removeSubjectInput(this)" class="text-red-500 hover:text-red-700"><i class="fas fa-trash"></i></button></div>`;document.getElementById('examModal').classList.remove('hidden');document.getElementById('examModal').classList.add('flex')}function editExam(examId){editingExamId=examId;const exam=exams.find(e=>e.id===examId);if(!exam)return;document.getElementById('modalTitle').textContent='编辑考试';document.getElementById('examName').value=exam.name;document.getElementById('examDate').value=exam.date;document.getElementById('examNote').value=exam.note||'';document.getElementById('classRank').value=exam.classRank||'';document.getElementById('gradeRank').value=exam.gradeRank||'';const subjectInputs=document.getElementById('subjectInputs');subjectInputs.innerHTML='';exam.subjects.forEach(subject=>{const div=document.createElement('div');div.className='flex items-center space-x-2';div.innerHTML=`<input type="text" value="${subject.name}" class="subject-name flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required><input type="number" value="${subject.maxScore||100}" min="1" step="0.1" placeholder="满分" class="max-score w-20 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required><button type="button" onclick="removeSubjectInput(this)" class="text-red-500 hover:text-red-700"><i class="fas fa-trash"></i></button>`;subjectInputs.appendChild(div)});document.getElementById('examModal').classList.remove('hidden');document.getElementById('examModal').classList.add('flex')}function showScoreModal(examId){const exam=exams.find(e=>e.id===examId);if(!exam)return;currentExamId=examId;const scoreInputs=document.getElementById('scoreInputs');scoreInputs.innerHTML='';exam.subjects.forEach((subject,index)=>{const div=document.createElement('div');div.className='flex items-center space-x-2';div.innerHTML=`<label class="w-32 text-gray-700">${subject.name}</label><div class="flex-1 flex items-center space-x-2"><input type="number" value="${subject.score}" min="0" step="0.1" placeholder="输入分数" class="score-input flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"><span class="text-gray-600">/ ${subject.maxScore}</span></div>`;scoreInputs.appendChild(div)});document.getElementById('scoreModal').classList.remove('hidden');document.getElementById('scoreModal').classList.add('flex')}function closeScoreModal(){document.getElementById('scoreModal').classList.add('hidden');document.getElementById('scoreModal').classList.remove('flex')}function saveScores(event){event.preventDefault();const exam=exams.find(e=>e.id===currentExamId);if(!exam)return;const scoreInputs=document.querySelectorAll('#scoreInputs .score-input');scoreInputs.forEach((input,index)=>{exam.subjects[index].score=parseFloat(input.value)||0});localStorage.setItem('exams',JSON.stringify(exams));closeScoreModal();renderExamList();showExamDetails(currentExamId)}function addSubjectInput(){const subjectInputs=document.getElementById('subjectInputs');const div=document.createElement('div');div.className='flex items-center space-x-2';div.innerHTML=`<input type="text" placeholder="科目名称" class="subject-name flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required><input type="number" value="100" min="1" step="0.1" placeholder="满分" class="max-score w-20 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required><button type="button" onclick="removeSubjectInput(this)" class="text-red-500 hover:text-red-700"><i class="fas fa-trash"></i></button>`;subjectInputs.appendChild(div)}function removeSubjectInput(button){const subjectInputs=document.getElementById('subjectInputs');if(subjectInputs.children.length>1){button.parentElement.remove()}}function saveExam(event){event.preventDefault();const name=document.getElementById('examName').value;const date=document.getElementById('examDate').value;const note=document.getElementById('examNote').value;const classRank=document.getElementById('classRank').value?parseInt(document.getElementById('classRank').value):null;const gradeRank=document.getElementById('gradeRank').value?parseInt(document.getElementById('gradeRank').value):null;const subjectInputs=document.querySelectorAll('#subjectInputs > div');const subjects=[];subjectInputs.forEach(input=>{const subjectName=input.querySelector('.subject-name').value;const maxScore=parseFloat(input.querySelector('.max-score').value)||100;subjects.push({name:subjectName,score:0,maxScore:maxScore})});if(editingExamId){const examIndex=exams.findIndex(e=>e.id===editingExamId);if(examIndex!==-1){exams[examIndex].name=name;exams[examIndex].date=date;exams[examIndex].note=note;exams[examIndex].classRank=classRank;exams[examIndex].gradeRank=gradeRank;exams[examIndex].subjects=subjects}}else{const newExam={id:Date.now().toString(),name:name,date:date,note:note,classRank:classRank,gradeRank:gradeRank,subjects:subjects};exams.push(newExam)}localStorage.setItem('exams',JSON.stringify(exams));closeModal();renderExamList();if(editingExamId&&currentExamId===editingExamId){showExamDetails(editingExamId)}}function deleteExam(examId){if(confirm('确定要删除这个考试记录吗？')){exams=exams.filter(e=>e.id!==examId);localStorage.setItem('exams',JSON.stringify(exams));renderExamList();if(currentExamId===examId){document.getElementById('examDetails').innerHTML=`<div class="flex flex-col items-center justify-center h-full text-gray-400"><i class="fas fa-clipboard-list text-6xl mb-4"></i><p class="text-xl">请选择一个考试查看详情</p></div>`}}}function closeModal(){document.getElementById('examModal').classList.add('hidden');document.getElementById('examModal').classList.remove('flex')}function formatDate(dateString){const date=new Date(dateString);return date.toLocaleDateString('zh-CN',{year:'numeric',month:'long',day:'numeric'})}</script></body></html>

