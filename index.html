<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta name="description" content="考试成绩管理系统 - 记录和追踪学习进步"><title>考试成绩管理系统</title><script src="https://cdn.tailwindcss.com"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><style>.c{transition:all .2s}.c:hover{transform:translateY(-2px)}.i{transition:all .15s}.i:focus{transform:scale(1.02);box-shadow:0 0 0 3px rgba(99,102,241,.1)}.f{animation:f .3s}@keyframes f{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.s::-webkit-scrollbar{width:6px}.s::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.s::-webkit-scrollbar-thumb{background:#888;border-radius:3px}.s::-webkit-scrollbar-thumb:hover{background:#555}</style></head><body class="bg-gray-50 min-h-screen"><div class="container mx-auto px-4 py-6 max-w-6xl"><header class="text-center mb-8"><h1 class="text-3xl md:text-4xl font-bold text-indigo-700 mb-2">考试成绩管理系统</h1><p class="text-gray-600 text-sm md:text-base">记录你的每一次进步，见证你的成长</p></header><div class="mb-4 text-center"><button onclick="m()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-5 rounded-lg shadow-sm hover:shadow transition-all duration-200 hover:scale-105"><i class="fas fa-plus mr-2"></i>添加考试</button></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-4"><div class="lg:col-span-1"><div class="bg-white rounded-lg shadow-sm p-4"><h2 class="text-lg font-semibold text-gray-800 mb-3 flex items-center"><i class="fas fa-list-ul mr-2 text-indigo-600"></i>考试列表</h2><div id="l" class="space-y-3 max-h-[500px] overflow-y-auto s"></div></div></div><div class="lg:col-span-2"><div id="d" class="bg-white rounded-lg shadow-sm p-4 min-h-[400px]"><div class="flex flex-col items-center justify-center h-full text-gray-400 py-12"><i class="fas fa-clipboard-list text-5xl mb-3"></i><p class="text-lg">请选择一个考试查看详情</p></div></div></div></div></div><div id="m" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-md"><h3 id="t" class="text-xl font-bold mb-4 text-gray-800">添加新考试</h3><form id="f" onsubmit="s(event)"><div class="mb-3"><label class="block text-gray-700 text-sm mb-1">考试名称</label><input type="text" id="n" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" required></div><div class="mb-3"><label class="block text-gray-700 text-sm mb-1">考试日期</label><input type="date" id="da" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" required></div><div class="mb-3"><label class="block text-gray-700 text-sm mb-1">考试备注</label><textarea id="no" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" rows="2" placeholder="添加考试相关备注..."></textarea></div><div class="mb-3"><label class="block text-gray-700 text-sm mb-1">班级排名</label><input type="number" id="cr" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" min="1" placeholder="输入班级排名"></div><div class="mb-4"><label class="block text-gray-700 text-sm mb-1">年级排名</label><input type="number" id="gr" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" min="1" placeholder="输入年级排名"></div><div class="mb-4"><label class="block text-gray-700 text-sm mb-2">科目设置</label><div id="si" class="space-y-2"></div><button type="button" onclick="a()" class="mt-2 text-indigo-600 hover:text-indigo-800 text-sm"><i class="fas fa-plus mr-1"></i>添加科目</button></div><div class="flex justify-end space-x-2"><button type="button" onclick="cm()" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 text-sm">取消</button><button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm">保存</button></div></form></div></div><div id="sm" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-md"><h3 class="text-xl font-bold mb-4 text-gray-800">录入分数</h3><form id="sf" onsubmit="ss(event)"><div id="sc" class="mb-6 space-y-3"></div><div class="flex justify-end space-x-2"><button type="button" onclick="csm()" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 text-sm">取消</button><button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm">保存</button></div></form></div></div><div id="toast" class="fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg transform translate-y-full transition-transform duration-300 z-50"><span id="tm"></span></div><script>e=JSON.parse(localStorage.getItem('e'))||[];c=null;g=null;document.addEventListener('DOMContentLoaded',()=>{rl();da.valueAsDate=new Date()});function rl(){l.innerHTML='';if(e.length===0){l.innerHTML='<p class="text-gray-500 text-center py-8 text-sm">暂无考试记录，请添加新考试</p>';return}e.sort((a,b)=>new Date(b.date)-new Date(a.date));e.forEach(exam=>{total=exam.subjects.reduce((sum,s)=>sum+(s.score||0),0);card=document.createElement('div');card.className='c bg-gray-50 border border-gray-200 rounded-lg p-3 cursor-pointer hover:bg-indigo-50 hover:border-indigo-300';card.onclick=()=>sd(exam.id);card.innerHTML=`<div class="flex justify-between items-start mb-2"><h3 class="font-medium text-gray-800 text-sm">${exam.name}</h3><div class="flex space-x-1"><button onclick="event.stopPropagation(); sm('${exam.id}')" class="text-blue-500 hover:text-blue-700 p-1"><i class="fas fa-edit text-xs"></i></button><button onclick="event.stopPropagation(); del('${exam.id}')" class="text-red-500 hover:text-red-700 p-1"><i class="fas fa-trash-alt text-xs"></i></button></div></div><p class="text-xs text-gray-600 mb-2">${fd(exam.date)}</p><div class="flex justify-between items-center"><span class="text-indigo-600 font-bold text-sm">总分: ${total}</span><div class="flex space-x-1">${exam.classRank?`<span class="bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded-full">班: ${exam.classRank}</span>`:''}${exam.gradeRank?`<span class="bg-purple-100 text-purple-800 text-xs px-2 py-0.5 rounded-full">年: ${exam.gradeRank}</span>`:''}</div></div>`;l.appendChild(card)})}function sd(id){c=id;exam=e.find(x=>x.id===id);if(!exam)return;total=exam.subjects.reduce((sum,s)=>sum+(s.score||0),0);avg=total>0?(total/exam.subjects.length).toFixed(1):0;d.innerHTML=`<div class="f"><div class="flex justify-between items-start mb-4"><div><h2 class="text-2xl font-bold text-gray-800">${exam.name}</h2><p class="text-gray-600 text-sm">${fd(exam.date)}</p></div><button onclick="sm('${id}')" class="bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg shadow-sm hover:shadow transition-all duration-200 hover:scale-105 text-sm"><i class="fas fa-edit mr-2"></i>录入分数</button></div>${exam.note?`<div class="bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4"><div class="flex"><div class="flex-shrink-0"><i class="fas fa-sticky-note text-yellow-400"></i></div><div class="ml-2"><p class="text-sm text-yellow-700">${exam.note}</p></div></div></div>`:''}<div class="grid grid-cols-3 gap-3 mb-4"><div class="bg-indigo-50 rounded-lg p-3 text-center"><p class="text-indigo-600 font-medium text-xs">总分</p><p class="text-xl font-bold text-indigo-800">${total}</p></div><div class="bg-green-50 rounded-lg p-3 text-center"><p class="text-green-600 font-medium text-xs">平均分</p><p class="text-xl font-bold text-green-800">${avg}</p></div><div class="bg-purple-50 rounded-lg p-3 text-center"><p class="text-purple-600 font-medium text-xs">科目数</p><p class="text-xl font-bold text-purple-800">${exam.subjects.length}</p></div></div><div class="grid grid-cols-2 gap-3 mb-4">${exam.classRank?`<div class="bg-blue-50 rounded-lg p-3 text-center"><p class="text-blue-600 font-medium text-xs">班级排名</p><p class="text-xl font-bold text-blue-800">${exam.classRank}</p></div>`:''}${exam.gradeRank?`<div class="bg-purple-50 rounded-lg p-3 text-center"><p class="text-purple-600 font-medium text-xs">年级排名</p><p class="text-xl font-bold text-purple-800">${exam.gradeRank}</p></div>`:''}</div><div class="mb-4"><h3 class="text-lg font-semibold text-gray-800 mb-3">各科成绩</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-3">${exam.subjects.map((s,i)=>`<div class="flex items-center justify-between bg-gray-50 rounded-lg p-3"><div><p class="font-medium text-gray-800 text-sm">${s.name}</p><p class="text-xs text-gray-600">科目 ${i+1}</p></div><div class="text-right"><p class="text-lg font-bold text-indigo-600">${s.score>0?s.score:'--'}</p><p class="text-xs text-gray-600">满分 ${s.maxScore||100}</p></div></div>`).join('')}</div></div>${exam.subjects.some(s=>s.score>0)?`<div class="bg-gray-50 rounded-lg p-4"><h3 class="text-lg font-semibold text-gray-800 mb-3">成绩分布</h3><div class="space-y-2">${exam.subjects.map((s,i)=>{if(s.score<=0)return'';p=(s.score/(s.maxScore||100))*100;cl=p>=90?'bg-green-500':p>=80?'bg-blue-500':p>=70?'bg-yellow-500':'bg-red-500';return`<div class="flex items-center"><div class="w-32 text-sm text-gray-600">${s.name}</div><div class="flex-1 bg-gray-200 rounded-full h-4 overflow-hidden"><div class="${cl} h-full rounded-full" style="width:${p}%"></div></div><div class="w-12 text-right text-sm font-medium">${p}%</div></div>`}).join('')}</div></div>`:''}</div>`}function m(){g=null;t.textContent='添加新考试';n.value='';da.valueAsDate=new Date();no.value='';cr.value='';gr.value='';si.innerHTML='';['语文','数学','英语'].forEach(sub=>{div=document.createElement('div');div.className='flex items-center space-x-2';div.innerHTML=`<input type="text" value="${sub}" class="subject-name flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" required><input type="number" value="100" min="1" step="0.1" placeholder="满分" class="max-score w-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" required><button type="button" onclick="r(this)" class="text-red-500 hover:text-red-700 p-2"><i class="fas fa-trash text-sm"></i></button>`;si.appendChild(div)});m.classList.remove('hidden');m.classList.add('flex')}function edit(id){g=id;exam=e.find(x=>x.id===id);if(!exam)return;t.textContent='编辑考试';n.value=exam.name;da.value=exam.date;no.value=exam.note||'';cr.value=exam.classRank||'';gr.value=exam.gradeRank||'';si.innerHTML='';exam.subjects.forEach(s=>{div=document.createElement('div');div.className='flex items-center space-x-2';div.innerHTML=`<input type="text" value="${s.name}" class="subject-name flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" required><input type="number" value="${s.maxScore||100}" min="1" step="0.1" placeholder="满分" class="max-score w-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" required><button type="button" onclick="r(this)" class="text-red-500 hover:text-red-700 p-2"><i class="fas fa-trash text-sm"></i></button>`;si.appendChild(div)});m.classList.remove('hidden');m.classList.add('flex')}function sm(id){exam=e.find(x=>x.id===id);if(!exam)return;c=id;sc.innerHTML='';exam.subjects.forEach((s,i)=>{div=document.createElement('div');div.className='flex items-center space-x-2';div.innerHTML=`<label class="w-32 text-gray-700">${s.name}</label><div class="flex-1 flex items-center space-x-2"><input type="number" value="${s.score}" min="0" step="0.1" placeholder="输入分数" class="i flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none"><span class="text-gray-600">/ ${s.maxScore}</span></div>`;sc.appendChild(div)});sm.classList.remove('hidden');sm.classList.add('flex')}function csm(){sm.classList.add('hidden');sm.classList.remove('flex')}function ss(event){event.preventDefault();exam=e.find(x=>x.id===c);if(!exam)return;inputs=document.querySelectorAll('#sc .i');inputs.forEach((i,idx)=>{exam.subjects[idx].score=parseFloat(i.value)||0});localStorage.setItem('e',JSON.stringify(e));csm();rl();sd(c);toast('分数保存成功')}function a(){div=document.createElement('div');div.className='flex items-center space-x-2';div.innerHTML=`<input type="text" placeholder="科目名称" class="subject-name flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" required><input type="number" value="100" min="1" step="0.1" placeholder="满分" class="max-score w-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none i" required><button type="button" onclick="r(this)" class="text-red-500 hover:text-red-700 p-2"><i class="fas fa-trash text-sm"></i></button>`;si.appendChild(div)}function r(b){b.parentElement.remove()}function s(event){event.preventDefault();name=n.value;date=da.value;note=no.value;classRank=cr.value?parseInt(cr.value):null;gradeRank=gr.value?parseInt(gr.value):null;inputs=document.querySelectorAll('#si > div');subjects=[];inputs.forEach(input=>{subjectName=input.querySelector('.subject-name').value;maxScore=parseFloat(input.querySelector('.max-score').value)||100;subjects.push({name:subjectName,score:0,maxScore:maxScore})});if(g){idx=e.findIndex(x=>x.id===g);if(idx!==-1){e[idx].name=name;e[idx].date=date;e[idx].note=note;e[idx].classRank=classRank;e[idx].gradeRank=gradeRank;e[idx].subjects=subjects}}else{newExam={id:Date.now().toString(),name:name,date:date,note:note,classRank:classRank,gradeRank:gradeRank,subjects:subjects};e.push(newExam)}localStorage.setItem('e',JSON.stringify(e));cm();rl();if(g&&c===g){sd(g)}toast('考试保存成功')}function del(id){if(confirm('确定要删除这个考试记录吗？')){e=e.filter(x=>x.id!==id);localStorage.setItem('e',JSON.stringify(e));rl();if(c===id){d.innerHTML=`<div class="flex flex-col items-center justify-center h-full text-gray-400 py-12"><i class="fas fa-clipboard-list text-5xl mb-3"></i><p class="text-lg">请选择一个考试查看详情</p></div>`}toast('考试删除成功')}}function cm(){m.classList.add('hidden');m.classList.remove('flex')}function fd(dateString){date=new Date(dateString);return date.toLocaleDateString('zh-CN',{year:'numeric',month:'long',day:'numeric'})}function toast(msg){tm.textContent=msg;toast.classList.remove('translate-y-full');setTimeout(()=>{toast.classList.add('translate-y-full')},3000)}</script></body></html>
